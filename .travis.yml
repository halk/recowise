language: python

python: 2.7

services:
    - rabbitmq
    - redis-server

install:
    - pip install -r requirements.txt

before_script:
    - celery worker -A worker.event -n event -Q event --loglevel=INFO --broker=amqp://guest:guest@localhost:5672/' &
    - celery worker -A worker.recommend -n recommend -Q recommend --loglevel=INFO --broker=amqp://guest:guest@localhost:5672/' &

script: nosetests
